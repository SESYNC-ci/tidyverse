---
---

# String manipulation

===

We already saw some examples of stringr in the dplyr lesson 
(`str_detect`, `str_c`, `str_remove`), but let's do some more

Remove the word "Sector"" and modify to title case. Notice the use of
`dplyr::pull` to get a vector out of a data frame

```{r title = "worksheet-1.R", message=FALSE}
library(stringr)
library(dplyr)

tidyfit1 %>%
  pull(term) %>%
  str_remove("Sector") %>%
  str_to_title()
```

===

str_trunc for truncating

```{r}
tidyfit1 %>%
  mutate(term = map_chr(term, 
          ~str_trunc(., 30, side = "right", ellipsis = "")))
```

===

Use purrr for iteration!

```{r}
library(purrr)
tidyfit1 <- tidyfit1 %>%
  mutate(term = map_chr(term, 
          ~str_remove(., "Sector") %>% 
           str_to_title())) 
```

```{r title = "Console"}
tidyfit1$term
```

===


